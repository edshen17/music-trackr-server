import{d as k,i as o,j as b,o as c,k as S,w as m,S as T,m as A,c as C,e,t as M,l as U,v as j,n as B,p as D,f as _,q as F}from"./app.d3e42f4d.js";const P={key:0,class:"w-full h-screen my-4 md:my-12"},q={class:"flex items-center justify-center"},L={class:"w-11/12 mx-6 md:w-8/12 xl:w-4/12"},z=e("img",{class:"aspect-auto w-full h-72 md:w-full md:h-96 object-cover",src:"https://source.unsplash.com/random/900\xD7900/?nature",alt:"Song Picture"},null,-1),I={class:"flex-wrap"},N={class:"w-full my-5 md:my-8"},V={class:"flex justify-between"},R={class:"text-xl font-medium pr-4 break-all"},E=["href"],$=e("div",{class:"i-carbon-download h-6"},null,-1),G=[$],H={class:"audio-player"},J=["src"],K={class:"flex justify-center items-center mx-auto py-8"},O=["max"],Q={class:"flex justify-center items-center"},W=e("span",null,"Loading...",-1),Y=k({props:{_id:null},setup(f){const p=f,v=A,r=o(!0),s=o(null),t=o({max:100,currentTime:0}),l=o(null);let n=o(!0),i=null;const u=()=>{const a=s.value;t.value.currentTime=Math.floor(a.currentTime),i=requestAnimationFrame(u)};b(async()=>{const{data:a}=await v.getById({_id:p._id});l.value=a.audioUpload,r.value=!1});const h=()=>{const a=s.value;a.paused?(a.play(),requestAnimationFrame(u),n.value=!1):(a.pause(),cancelAnimationFrame(i),n.value=!0)},y=()=>{s.value.paused||cancelAnimationFrame(i)},x=()=>{const a=s.value;a.currentTime=Math.floor(t.value.currentTime),a.paused||requestAnimationFrame(u)},g=()=>{const a=s.value;t.value.max=Math.floor(a.duration)};return(a,d)=>(c(),S(T,null,{default:m(()=>[r.value?F("",!0):(c(),C("div",P,[e("div",q,[e("div",L,[z,e("div",I,[e("div",N,[e("div",V,[e("div",null,[e("h3",R,M(l.value.fileName),1)]),e("a",{href:l.value.sourceUrl},G,8,E)]),e("div",H,[e("audio",{ref_key:"audioPlayer",ref:s,src:l.value.sourceUrl,onLoadedmetadata:g},null,40,J),e("div",K,[U(e("input",{type:"range",onChange:x,onInput:y,class:"time-slider bg-gray-200 rounded w-full h-2",style:B({"background-size":`${Math.round(t.value.currentTime/t.value.max*100)}% 100%`}),"onUpdate:modelValue":d[0]||(d[0]=w=>t.value.currentTime=w),max:t.value.max},null,44,O),[[j,t.value.currentTime]])])]),e("div",Q,[e("button",{class:"text-black dark:text-white p-8 rounded-full border-3 border-gray-500 dark:border-gray-400",onClick:h},[e("div",{class:D(["w-8 h-8",{"i-carbon-play-filled-alt":_(n),"i-carbon-pause-filled":!_(n)}])},null,2)])])])])])])]))]),fallback:m(()=>[W]),_:1}))}});export{Y as default};
